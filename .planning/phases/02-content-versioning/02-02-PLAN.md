---
phase: 02-content-versioning
plan: 02
type: execute
wave: 1
depends_on: ["02-01"]
files_modified:
  - docusaurus.config.ts
  - versions.json
  - versioned_docs/
  - versioned_sidebars/
autonomous: true
requirements: [CONT-03]

must_haves:
  truths:
    - "Docusaurus versioning is enabled and configured in docusaurus.config.ts"
    - "A versioned snapshot 'v1.0.0' exists in versioned_docs/"
    - "The version dropdown is visible in the navbar"
  artifacts:
    - path: "versions.json"
      provides: "List of available documentation versions"
      contains: '"v1.0.0"'
---

<objective>
Enable Docusaurus versioning to support immutable snapshots of normative artifacts and provide a version selection UI.

Purpose: Ensures that historical versions of artifacts remain accessible as new updates are synced.
Output: A versioning-enabled portal with an initial v1.0.0 snapshot.
</objective>

<execution_context>
@C:/Users/jcols/.gemini/get-shit-done/workflows/execute-plan.md
@C:/Users/jcols/.gemini/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-content-versioning/02-RESEARCH.md
@.planning/phases/02-content-versioning/02-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Version 1.0.0</name>
  <files>versions.json, versioned_docs/, versioned_sidebars/</files>
  <action>
    Run the Docusaurus versioning command to freeze the current 'docs/' content as version 1.0.0.
    Command: `npm run docusaurus docs:version v1.0.0`
  </action>
  <verify>`ls versions.json` and `ls versioned_docs/version-v1.0.0`</verify>
  <done>Initial version snapshot is created.</done>
</task>

<task type="auto">
  <name>Task 2: Configure Versioning UI in Navbar</name>
  <files>docusaurus.config.ts</files>
  <action>
    Modify `docusaurus.config.ts` to add a version dropdown and a version badge to the navbar.
    - Add `{type: 'docsVersionDropdown', position: 'right'}` to the `navbar.items` array.
    - (Optional) Configure `docs` plugin to show a banner for non-latest versions.
  </action>
  <verify>Check `docusaurus.config.ts` for the `docsVersionDropdown` entry.</verify>
  <done>Version selection is accessible to users.</done>
</task>

<task type="auto">
  <name>Task 3: Verify Versioned Build</name>
  <files>build/</files>
  <action>
    Run the production build to ensure that versioned paths are correctly generated.
    Command: `npm run build`
  </action>
  <verify>Check `build/v1.0.0/` directory exists (or equivalent pathing).</verify>
  <done>Production build supports multiple versions.</done>
</task>

</tasks>

<verification>
Ensure the version dropdown appears in the local development or build output. Confirm that navigation between 'Next' (latest) and 'v1.0.0' works.
</verification>

<success_criteria>
1. Documentation versioning is active.
2. Version 1.0.0 is successfully snapshotted from the current content.
3. Users can switch between versions using a dropdown in the navbar.
</success_criteria>

<output>
After completion, create `.planning/phases/02-content-versioning/02-02-SUMMARY.md`
</output>
